<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
>
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
<nav class="navbar navbar-inverse" style="background-color: #337ab7;color: white">
  <div class="container-fluid">
    <div class="navbar-header">
      <div  href="munisys.jpg" style="background-color: white;margin-left: -15px;margin-right: 70px;">
        <img style="border: 1px solid #ddd;
  border-radius: 4px;
  padding: 5px;
  width: 150px;
background-color: white" src="assets/logo.png" alt="Munisys">
      </div>
      <p></p>
    </div>
    <ul class="nav navbar-nav"  >
      <li  *ngIf="roleReadAllProjects || roleReadMyProjects" ><a style="color: white"  routerLink="/etatProjet"><i class="fa fa-building" aria-hidden="true"></i>  Projets</a></li>
      <li  *ngIf="roleReadAllProjects || roleReadMyProjects" style="background-color: #5ed0b0"><a style="color: white" routerLink="/etatRecouvrement"><i class="fa fa-university" aria-hidden="true"></i> Recouvrements</a></li>
      <li *ngIf="roleReadAllProjects" ><a style="color: white" routerLink="/consultReunions"><i class="fa fa-calendar" aria-hidden="true"></i> Reunions </a></li>
    </ul>
    <!--<button class="btn btn-danger navbar-btn">Button</button>-->
    <ul class="nav navbar-nav pull-right">
      <li><a style="color: white" ><i class="fa fa-user-circle-o" aria-hidden="true"> {{userInSession}}</i> </a></li>
      <li ><a style="color: white" (click)="logout()"> <i class="fa fa-sign-out" aria-hidden="true"></i></a></li>
    </ul>
  </div>
</nav>



<div *ngIf="viewUpload" class="container" style="padding: 5px;">
  <div *ngIf="currentFileUpload" class="progress">
    <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
         aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width:progress.percentage+'%'}">
      {{progress.percentage}}%</div>
  </div>

  <label class="btn btn-default">
    <input type="file" (change)="selectFile($event)">
  </label>

  <button class="btn pull-right" style="color: white;
    background-color: #337ab7;font-size: 12px;
    padding: 4px;"(click)="cancelUpload()">Annuler la mise à jour</button>

  <button class="btn " style="color: white;
    background-color: #337ab7;font-size: 12px;
    padding: 4px;" [disabled]="!selectedFiles" (click)="upload()"><i class="fa fa-upload" aria-hidden="true"></i> Upload</button>





</div>

<div class="row"  style="margin-right: 2px;" *ngIf="statistics">
  <div class="col-md-2">

    <select *ngIf="roleReadAllRecouvrement"  style="margin-left: 5px;width: 175px;height: 26px;" id="filtrerBU" class="browser-default custom-select" name="selectChargeRecouv" [(ngModel)]="selectedChargeRecouvrement" (change)="onSelectedChargeRecouv()" >
      <option value="none" selected>Filtrer par Chargé de recouvrement </option>
      <option *ngFor="let employe of employeesRecouvrement"
              [ngValue]="employe.name">{{employe.name}}</option>
    </select>

  </div>
  <div class="col-md-2" >
    <label style="font-size: 11px;"> Total 3M : </label>
    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.totalLowerThan3month | currency:'DH':'symbol':undefined:'fr'}}</label>



  </div>
  <div class="col-md-2">
    <label style="font-size: 11px;">Total 6M : </label>
    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.totalLowerThan6month | currency:'DH':'symbol':undefined:'fr'}}</label>
  </div>
  <div class="col-md-2" >
    <label style="font-size: 11px;">Total A12M : </label>
    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.totalAfter6month | currency:'DH':'symbol':undefined:'fr'}}</label>
  </div>
  <div class="col-md-2" >
    <label style="font-size: 11px;">Total SUP.12M : </label>
    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.totalAfter12month | currency:'DH':'symbol':undefined:'fr'}}</label>
  </div>


  <div class="col-md-2" >
    <label style="font-size: 11px;">Total : </label>
    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.total | currency:'DH':'symbol':undefined:'fr'}}</label>


  </div>
</div>
<div class="row" style="margin-right: 2px;" *ngIf="statistics">
  <div class="col-md-2">

  </div>

  <div class="col-md-2">
    <label style="font-size: 11px;">Total Facture : </label>

    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.totalFacture | currency:'DH':'symbol':undefined:'fr'}}</label>
  </div>

  <div class="col-md-2">
    <label style="font-size: 11px;">Total Retenu garantie  : </label>
    <label style="color: #ff0824;
      font-size: 11px;padding-left: 5px;">{{statistics.totalRetenuGarantie  | currency:'DH':'symbol':undefined:'fr' }}</label>
  </div>
  <div class="col-md-4">
    <label style="font-size: 11px;">Total RetenuGarantie échu : </label>
    <label style="color: #ff0824;
    font-size: 11px;padding-left: 5px;">{{statistics.totalRetenueGarantieIssue  | currency:'DH':'symbol':undefined:'fr' }}</label>

  </div>

  <div class="col-md-2">
    <div><button style="color: white;
    background-color: #337ab7;font-size: 12px;
    padding: 4px;" class="btn pull-right" (click)="activeUpload()" *ngIf="!viewUpload"><i class="fa fa-refresh" aria-hidden="true"></i> Mise à jour</button>
    </div>


    <div>
      <button style="color: white;
    background-color: #337ab7;font-size: 12px;
    padding: 4px;" class="btn"  (click)="exportEtatDocument($event)" [disabled]="this.filtredData==null || this.filtredData.length ==0" id="btnXlsRpt"><i class="fa fa-download" aria-hidden="true"></i> Exporter l'état</button>
    </div>
    <span class="pull-right" style="margin-top: 2px;font-size: 11px;" *ngIf="etatRecouvrement"> {{etatRecouvrement.lastUpdate  | date:'dd/MM/yyyy HH:mm'}}</span>
  </div>

</div>




<mat-form-field >

  <input style="margin-top: 10px"  matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
  <!--<input matInput [ngModel]="globalFilter" (ngModelChange)="applyFilter($event)" placeholder="Filter">-->

</mat-form-field>



<table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->


  <ng-container matColumnDef="option"  >
    <th mat-header-cell *matHeaderCellDef >  &nbsp; </th>
    <td mat-cell *matCellDef="let element" > <a style="  cursor:pointer;"  (click)="selectDocument(element,template)"><i class="fa fa-eye" aria-hidden="true"></i>
    </a> </td>
  </ng-container>

  <ng-container matColumnDef="numPiece"  >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> N° document </th>
    <td mat-cell *matCellDef="let element"> {{element.numPiece}}   </td>
  </ng-container>

  <ng-container matColumnDef="typeDocument"  >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Type document </th>
    <td mat-cell *matCellDef="let element"> {{element.typeDocument}}   </td>
  </ng-container>

  <ng-container matColumnDef="agePiece"  >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Age document </th>
    <td mat-cell *matCellDef="let element">

      <div *ngIf="element.isLessThanOneMonth"><span class="filled-circle-isLessThanOneMonth"s>{{element.agePiece}}</span></div>
      <div *ngIf="element.isLessThanTwoMonth"><span class="filled-circle-isLessThanOneMonth">{{element.agePiece}}</span></div>
      <div *ngIf="element.isLessThanTreeMonth"><span class="filled-circle-isLessThanTreeMonth">{{element.agePiece}}</span></div>
      <div *ngIf="element.isMoreThanTreeMonthAndLessThanTweleveMonth"><span class="filled-circle-isMoreThanTreeMonthAndLessThanTweleveMonth">{{element.agePiece}}</span></div>
      <div *ngIf="element.isMoreThanTwelveMonth"><span class="filled-circle-isMoreThanTwelveMonth">{{element.agePiece}}</span></div>
      <div *ngIf="element.isGris"><span class="filled-circle-isGris">{{element.agePiece}}</span></div>
    </td>
  </ng-container>

  <ng-container matColumnDef="datePiece"  >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date document </th>
    <td mat-cell *matCellDef="let element"> {{element.datePiece | date:'dd/MM/yyyy'}}   </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="client">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Client  </th>
    <td mat-cell *matCellDef="let element"> {{element.client}} </td>
  </ng-container>

  <ng-container matColumnDef="codeProjet">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Code Projet  </th>
    <td mat-cell *matCellDef="let element"> {{element.codeProjet}} </td>
  </ng-container>

  <ng-container matColumnDef="projet">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Projet  </th>
    <td mat-cell *matCellDef="let element"> {{element.projet}} </td>
  </ng-container>

  <ng-container matColumnDef="commercial">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Commercial  </th>
    <td mat-cell *matCellDef="let element"> {{element.commercial}}  </td>
  </ng-container>

  <ng-container matColumnDef="chefProjet">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Chef Projet  </th>
    <td mat-cell *matCellDef="let element"> {{element.chefProjet}}  </td>
  </ng-container>

  <ng-container matColumnDef="montantPiece">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Montant Pièce  </th>
    <td mat-cell *matCellDef="let element"> {{element.montantPiece| currency:'DH':'symbol':undefined:'fr'}}  </td>
  </ng-container>

  <ng-container matColumnDef="montantOuvert">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Montant Ouvert  </th>
    <td mat-cell *matCellDef="let element"> {{element.montantOuvert| currency:'DH':'symbol':undefined:'fr'}}  </td>
  </ng-container>

  <!-- Position Column -->
  <ng-container matColumnDef="age">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Age  </th>
    <td mat-cell *matCellDef="let element"> {{element.age}}  </td>
  </ng-container>

  <ng-container matColumnDef="chargerRecouvrement">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Chargé recouv </th>
    <td mat-cell *matCellDef="let element"> {{element.chargerRecouvrement}}  </td>
  </ng-container>

  <ng-container matColumnDef="ageDepot">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header> Age dépôt (Mois)  </th>
    <td mat-cell *matCellDef="let element">
      <div *ngIf="element.ageDepot<=1"><span class="filled-circle-isLessThanOneMonth"s>{{element.ageDepot | number : '1.2-2'}}</span></div>
      <div *ngIf="element.ageDepot>1 && element.ageDepot<=2"><span class="filled-circle-isLessThanOneMonth">{{element.ageDepot | number : '1.2-2'}}</span></div>
      <div *ngIf="element.ageDepot>2 && element.ageDepot<=3"><span class="filled-circle-isLessThanTreeMonth">{{element.ageDepot| number : '1.2-2'}}</span></div>
      <div *ngIf="element.ageDepot>3 && element.ageDepot<=12"><span class="filled-circle-isMoreThanTreeMonthAndLessThanTweleveMonth">{{element.ageDepot | number : '1.2-2'}}</span></div>
      <div *ngIf="element.ageDepot>12"><span class="filled-circle-isMoreThanTwelveMonth">{{element.ageDepot | number : '1.2-2'}}</span></div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


</table>
<mat-paginator [pageSizeOptions]="[10, 15, 20, 30]"></mat-paginator>
<!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>-->

<!--<button (click)="openModal()">open the modal</button>-->


<!--<button type="button" class="btn btn-primary" (click)="openModal(template)">Create template modal</button>-->

<ng-template #template>
  <div *ngIf="mode==1">
    <form  #f="ngForm" (ngSubmit)="onEditDocument(template)">
      <div class="modal-header" [ngStyle]=" {'background-color' : currentDocument.isExpiredEcheance == true && currentDocument.typeDocument == 'Facture'  ? '#FF000F' : currentDocument.typeDocument == 'Facture'  ? '#4dff03' : '#CED3D0'}">
        <button type="button" class="close pull-right" aria-label="Close" (click)="checkCanceled(thirdModal)">
          <span style="font-size: 20px;" aria-hidden="true">&times;</span>
        </button>
        <p class="heading"> <i class="fa fa-eye fa-lg"></i> Détail du Document :
          <strong style="font-size: 13px;
    color: #337ab7;">{{currentDocument.numPiece}} / {{currentDocument.projet}} </strong>
        </p>


      </div>


      <div class="modal-body" style="padding: 0px">


        <div class="card mt-3 tab-card">
          <div class="card-header tab-card-header">
            <ul class="nav nav-tabs card-header-tabs" id="myTab" role="tablist">
              <li class="nav-item active">
                <a style="    background-color: #337ab7;
    color: white;" class="nav-link" id="one-tab" data-toggle="tab" href="#one" role="tab" aria-controls="One" aria-selected="true" aria-expanded="true"><i class="fa fa-newspaper-o" aria-hidden="true"></i> Client Facturé : {{currentDocument.client}}</a>
              </li>
              <li class="nav-item">
                <a style="    background-color: #337ab7;
    color: white;" class="nav-link" id="two-tab" data-toggle="tab" href="#two" role="tab" aria-controls="Two" aria-selected="false" aria-expanded="false"><i class="fa fa-plus" aria-hidden="true"></i> Plus d'informations</a>
              </li>
            </ul>
          </div>

          <div class="tab-content" id="myTabContent">
            <div class="tab-pane active" id="one" role="tabpanel" aria-labelledby="one-tab">
              <div class="row" style="padding: 2px">
                <div class="col-xs-12 col-md-6" style="padding-left: 20px;
    padding-right: 0px;
    margin-right: -10px;">
                  <div class="panel-group">
                    <div class="panel panel-primary">


                      <div class="panel panel-info">

                        <div class="panel-body" >

                          <div class="row">

                            <div class="form-group col-sm-4">
                              <label> <i class="fa fa-bars fa-lg"></i> Type document :</label>
                              <span style="max-width: 110px;"
                                    class="labelModal"> {{currentDocument.typeDocument}}</span>
                            </div>


                            <div class="form-group col-sm-4">
                              <label> <i class="fa fa-handshake-o fa-lg"></i> Commercial :</label>
                              <span style="max-width: 110px;"
                                    class="labelModal"> {{currentDocument.commercial}}</span>
                            </div>

                            <div class="form-group col-sm-4">
                              <label> <i class="fa fa-user fa-lg"></i> Chef Projet :</label>
                              <span style="max-width: 110px;"
                                    class="labelModal"> {{currentDocument.chefProjet}}</span>
                            </div>






                          </div>

                          <div class="row">

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-tag fa-lg"></i> Ref Client :</label>
                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.refClient}}</span>
                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-money fa-lg"></i> Montant Pièce:</label>
                              <span style="max-width: 130px;min-width: 82px;"
                                    class="labelModal"> {{currentDocument.montantPiece | currency:'DH':'symbol':undefined:'fr'}}</span>

                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-money fa-lg"></i> Montant Ouvert:</label>
                              <span style="max-width: 130px;min-width: 82px;"
                                    class="labelModal"> {{currentDocument.montantOuvert | currency:'DH':'symbol':undefined:'fr'}}</span>


                            </div>

                          </div>

                          <div class="row">
                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-user fa-lg"></i> Chargé Recouvrement :</label>

                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.chargerRecouvrement}}</span>
                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-calendar fa-lg"></i> Age Piéce:</label>
                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.agePiece}}</span>
                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-money fa-lg"></i> Montant Payé :</label>
                              <span style="max-width: 130px;min-width: 82px;"
                                    class="labelModal"> {{currentDocument.montantPayer | currency:'DH':'symbol':undefined:'fr'}}</span>
                            </div>


                          </div>

                          <div class="row">
                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-sticky-note fa-lg"></i> Condition de paiement :</label>
                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.conditionDePaiement}}</span>

                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-shield fa-lg"></i> Caution :</label>
                              <span style="max-width: 130px;"
                                    class="labelModal" *ngIf="currentDocument.caution">Oui</span>
                              <span style="max-width: 130px;"
                                    class="labelModal" *ngIf="!currentDocument.caution">Non</span>
                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-ticket fa-lg"></i> N° caution :</label>
                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.numCaution}}</span>
                            </div>



                          </div>

                          <div class="row">
                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-flag fa-lg"></i> Type Caution :</label>
                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.typeCaution}}</span>
                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-money fa-lg"></i> Montant caution :</label>
                              <span style="max-width: 130px;min-width: 82px;"
                                    class="labelModal"> {{currentDocument.montantCaution | currency:'DH':'symbol':undefined:'fr'}}</span>


                            </div>

                            <div class="form-group col-sm-4">
                              <label><i class="fa fa-calendar fa-lg"></i> Date Libération caution :</label>
                              <span style="max-width: 130px;"
                                    class="labelModal"> {{currentDocument.dateLiberationCaution | date:'dd/MM/yyyy' }}</span>
                            </div>
                          </div>









                          <!--other new details -->
                          <div class="row" *ngIf="currentDocument.details!= null && currentDocument.details.length >0">
                            <div class="panel-group">
                              <div class="panel panel-info">
                                <div class="panel-heading">
                                  <h4 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse11"> <i class="fa fa-camera-retro fa-lg"></i> Plus de details</a>
                                  </h4>
                                </div>
                                <div id="collapse11" class="panel-collapse collapse">
                                  <div class="panel-body"><div *ngFor="let detail of currentDocument.details; let i = index">

                                    <div class="form-group col-sm-3">
                                      {{detail.key}} :
                                      <label >{{detail.value}}</label>
                                    </div>

                                  </div></div>

                                </div>
                              </div>
                            </div>
                          </div>



                          <!-- modifiable -->
                          <div style="background-color: #337ab7;
    color: white;
    margin-top: -1px;
    margin-bottom: 10px;
    padding-left: 10px;
    height: 15px;
    font-size: 10px;"> <a style="color: white;  font-size: 9px;"> <i class="fa fa-info fa-lg"></i> Information du Document</a></div>

                          <div class="row">




                            <div class="form-group col-sm-4">

                              <label for="statut" class="control-label  "><i class="fa fa-flag fa-lg"></i> Statut :</label>

                              <select style="margin-left: 5px;width: 175px;" id="statut" class="browser-default custom-select" name="avantVente2" [(ngModel)]="currentDocument.statut" (change)="updated($event)" >
                                <option selected>Sélectionner un statut </option>
                                <option value="Bloquée">Bloquée</option>
                                <option value="Validée">Validée</option>
                                <option value="En Cours">En Cours</option>
                                <option value="Payée">Payée</option>
                                <option value="Litige">Litige</option>
                                <option value="Retenu Garantie">Retenu Garantie</option>
                                <option value="Pénalité">Pénalité</option>
                                <option value="Avoir à faire">Avoir à faire</option>
                              </select>

                            </div>

                            <div class="form-group col-sm-4">

                              <label for="motif"><i class="fa fa-sticky-note fa-lg"></i> Motif :</label>
                              <textarea id="motif" name ="motif" class="form-control input-sm" [(ngModel)]="currentDocument.motif" placeholder="saisissez le motif"   rows="2" (change)="updated($event)" ></textarea>



                            </div>

                            <div class="form-group col-sm-4">

                              <label for="montantGarantie"><i class="fa fa-money  fa-lg"></i> Montant Garantie :</label>

                              <input id="montantGarantie" class="form-control input-sm"
                                     placeholder="saisir le montant garantie" type="number" min="0" step="any"
                                     [(ngModel)]="currentDocument.montantGarantie" name="montantGarantie"  (change)="updated($event)" >

                            </div>




                          </div>

                          <div class="row">

                            <div class="form-group col-sm-4">

                              <label for="montantProvision"><i class="fa fa-money  fa-lg"></i> Montant provision :</label>

                              <input id="montantProvision" class="form-control input-sm"
                                     placeholder="saisir une montant garantie" type="number" min="0" step="any"
                                     [(ngModel)]="currentDocument.montantProvision" name="montantProvision"  (change)="updated($event)" >

                            </div>

                            <div class="form-group col-sm-4">

                              <label for="dateFinGarantie"><i class="fa fa-calendar-plus-o fa-lg"></i> Date fin garantie :</label>
                              <input id="dateFinGarantie" name="dateFinGarantie"  type="date" class="form-control input-sm" [ngModel]="currentDocument.dateFinGarantie | date:'yyyy-MM-dd'" (ngModelChange)="currentDocument.dateFinGarantie  = $event"
                                     [value]="currentDocument.dateFinGarantie | date:'yyyy-MM-dd'" #BirthDate="ngModel" (change)="updated($event)" >


                            </div>

                            <div class="form-group col-sm-4">

                              <label for="datePrevuEncaissement"><i class="fa fa-calendar-check-o fa-lg"></i> Date prévu encaissement :</label>

                              <input id="datePrevuEncaissement" name="datePrevuEncaissement"  type="date" class="form-control input-sm" [ngModel]="currentDocument.datePrevuEncaissement | date:'yyyy-MM-dd'" (ngModelChange)="currentDocument.datePrevuEncaissement = $event"
                                     [value]="currentDocument.datePrevuEncaissement | date:'yyyy-MM-dd'" #BirthDate="ngModel" (change)="updated($event)" >



                            </div>





                          </div>

                          <div class="row">

                            <div class="form-group col-sm-4">

                              <label for="action1"><i class="fa fa-tasks fa-lg"></i> Action :</label>
                              <textarea id="action1" name ="action1" class="form-control input-sm" [(ngModel)]="currentDocument.action" placeholder="saisissez les actions"   rows="2" (change)="updated($event)" ></textarea>



                            </div>

                            <div class="form-group col-sm-8">

                              <label for="dureeGarantie"><i class="fa fa-exclamation-triangle  fa-lg"></i> Durée garantie :</label>

                              <input id="dureeGarantie" class="form-control input-sm"
                                     placeholder="saisir l'dureeGarantie"
                                     [(ngModel)]="currentDocument.dureeGarantie" name="dureeGarantie" (change)="updated($event)">

                            </div>

                          </div>

                          <div class="row">


                            <div class="form-group col-sm-4">
                              <label for="datePvProvisoire"><i class="fa fa-arrows  fa-lg"></i> Date Pv Provisoire :</label>
                              <input id="datePvProvisoire" name="datePvProvisoire"  type="date" class="form-control input-sm" [ngModel]="currentDocument.datePvProvisoire | date:'yyyy-MM-dd'" (ngModelChange)="currentDocument.datePvProvisoire  = $event"
                                     [value]="currentDocument.datePvProvisoire | date:'yyyy-MM-dd'" #BirthDate="ngModel" (change)="updated($event)" >


                            </div>


                            <div class="form-group col-sm-4">
                              <label for="responsable"><i class="fa fa-arrows  fa-lg"></i> Responsable :</label>
                              <input id="responsable" class="form-control input-sm"
                                     placeholder="saisir l'responsable"
                                     [(ngModel)]="currentDocument.responsable" name="responsable" (change)="updated($event)">

                            </div>

                            <div class="form-group col-sm-4">
                              <label for="dateDepot"><i class="fa fa-user fa-lg"></i> Date de dépot :</label>

                              <input id="dateDepot" name="dateDepot"  type="date" class="form-control input-sm" [ngModel]="currentDocument.dateDepot | date:'yyyy-MM-dd'" (ngModelChange)="currentDocument.dateDepot = $event"
                                     [value]="currentDocument.dateDepot | date:'yyyy-MM-dd'" #BirthDate="ngModel" (change)="updated($event)" >



                            </div>


                          </div>




                          <div class="row">

                            <div class="form-group col-sm-4">
                              <label for="datePrevuReceptionDefinitive"><i class="fa fa-arrows  fa-lg"></i> Date Prévu Réception Définitive :</label>

                              <input id="datePrevuReceptionDefinitive" name="datePrevuReceptionDefinitive"  type="date" class="form-control input-sm" [ngModel]="currentDocument.datePrevuReceptionDefinitive | date:'yyyy-MM-dd'" (ngModelChange)="currentDocument.datePrevuReceptionDefinitive = $event"
                                     [value]="currentDocument.datePrevuReceptionDefinitive | date:'yyyy-MM-dd'" #BirthDate="ngModel" (change)="updated($event)" >


                            </div>

                            <div class="form-group col-sm-8">

                              <label for="motifChangementDate"><i class="fa fa-gavel fa-lg"></i> Motif changement de date :</label>

                              <textarea id="motifChangementDate" name ="motifChangementDate" class="form-control input-sm" [(ngModel)]="currentDocument.motifChangementDate" placeholder="saisissez le motif changement de date"  rows="2" (change)="updated($event)" ></textarea>



                            </div>
                          </div>
                          <div class="row">
                            <div class="form-group col-sm-4"></div>
                            <div class="form-group col-sm-4"></div>
                            <div class="form-group col-sm-4">

                              <a style="cursor: pointer;margin-top: 10px;" class="btn btn-primary btn-sm pull-right" (click)="composeEmail(currentDocument)" target="_blank"><i class="fa fa-share" aria-hidden="true"></i> Escalader </a>
                            </div>

                          </div>







                        </div>
                      </div>

                    </div>
                  </div>








                </div>

                <div class="col-xs-12 col-md-6">
                  <div class="panel-group" >
                    <div class="panel panel-primary">
                      <div class="panel-heading">
                        <h4 class="panel-title">
                          <a data-toggle="collapse" href="#collapse14"><i class="fa fa-commenting-o fa-lg"></i> Commentaires </a>
                        </h4>
                      </div>

                      <div class="panel-group">
                        <div class="panel panel-default">
                          <div class="panel-body" style="min-height: 573px;max-height: 573px">


                            <div class="row">
                              <div class="form-group col-sm-6">

                                <label for="newEmployerId"><i class="fa fa-user-circle fa-lg"></i> Collaborateur :</label>

                                <input id="newEmployerId" class="form-control input-sm"
                                       placeholder="saisir le collaborateur"
                                       [(ngModel)]="newEmployerId" name="newEmployerId" >


                              </div>

                            </div>


                            <textarea class="form-control input-sm" name="newContentComment" [(ngModel)]="newContentComment"  placeholder="Ecrire un commentaire.." rows="2"  (change)="updated($event)"></textarea>
                            <p></p>
                            <button type="button" class="btn btn-info btn-xs pull-right" style="margin-top: 10px;" (click)="addComment()" [disabled]="!newContentComment"><i class="fa fa-plus" aria-hidden="true"></i> Ajouter</button>
                            <div class="clearfix"></div>
                            <hr>
                            <ul class="media-list">

                              <li class="media" *ngFor="let commentaire of pagedItems">
                                <a href="#" class="pull-left">

                                  <span class="badge badge-success">{{commentaire.user.sigle}} :</span>

                                </a>
                                <div class="media-body">
                                <span class="text-muted pull-right">
                                    <small class="text-muted">{{commentaire.date | date:'dd/MM/yyyy HH:mm'}} </small>
                                    <a *ngIf="!checkIFMorethanFifthMinuteAgo(commentaire.date)" style="cursor: pointer" (click)="deleteCommentaire(commentaire)"><i class="fa fa-times fa-lg"></i> </a>
                                </span>

                                  <span class="badge badge-info" *ngIf="commentaire.employer">avec {{commentaire.employer}}</span>
                                  <p style="font-size: 11px;max-width: 500px;">
                                    {{commentaire.content}}
                                  </p>
                                </div>
                              </li>


                            </ul>

                            <div class="row"  *ngIf="pager">
                              <div class="form-group col-sm-3">
                              </div>
                              <div class="form-group col-sm-6">
                                <!-- pager -->
                                <ul *ngIf="pager.pages && pager.pages.length" class="pagination">

                                  <li [ngClass]="{disabled:pager.currentPage === 1}">
                                    <a style="font-size: 11px;" (click)="setPage(pager.currentPage - 1)" >Précédant</a>
                                  </li>
                                  <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                                    <a style="font-size: 11px;" (click)="setPage(page)">{{page}}</a>
                                  </li>
                                  <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                    <a style="font-size: 11px;" (click)="setPage(pager.currentPage + 1)"  >Suivant</a>
                                  </li>

                                </ul>
                              </div>
                              <div class="form-group col-sm-3">
                              </div>

                            </div>






                          </div>
                        </div>

                      </div>

                    </div>
                  </div>
                </div>

              </div>
            </div>
            <div class="tab-pane fade" id="two" role="tabpanel" aria-labelledby="two-tab">

              <div class="panel-group" >
                <div class="panel panel-primary">
                  <div class="panel-heading">

                  </div>

                  <div class="panel-group">
                    <div class="panel panel-default">
                      <div class="panel-body" style="min-height: 598px;max-height: 598px">
                        <div class="row">

                          <div class="col-md-12">

                            <label for="info1"><i class="fa fa-building  fa-lg"></i> Info Client :</label>

                            <textarea style="    margin-bottom: 30px;"  id="info1" name ="info1" class="form-control input-sm" [(ngModel)]="currentDocument.infoClient" placeholder="saisissez des informations du client"   rows="7" (change)="updated($event)" ></textarea>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <label for="info2"><i class="fa fa-truck  fa-lg"></i> Info Chef de projet / Commercial :</label>

                            <textarea style="    margin-bottom: 30px;" id="info2" name ="info2" class="form-control input-sm" [(ngModel)]="currentDocument.infoChefProjetOrCommercial" placeholder="saisissez des informations du fournisseurs"   rows="7" (change)="updated($event)" ></textarea>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <label for="info3"><i class="fa fa-briefcase  fa-lg"></i> Info Document :</label>

                            <textarea style="    margin-bottom: 30px;"  id="info3" name ="info3" class="form-control input-sm" [(ngModel)]="currentDocument.infoProjet" placeholder="saisissez des informations du projet"   rows="7" (change)="updated($event)" ></textarea>
                          </div>
                        </div>

                      </div>
                    </div>


                  </div>

                </div>
              </div>
            </div>


          </div>
        </div>


        <!-- First -->








      </div>




      <div class="modal-footer" style="padding: 0px">

        <div class="row">

          <div class="form-group col-xs-2 col-md-2">
            <p></p>
          </div>
          <div class="form-group col-xs-3 col-md-2">
            <a  style="cursor: pointer;font-size: 13px;" [ngStyle]="{'color' : index-1>=0 ? '#337ab7' : 'black'}" (click)="goToPrecedent(currentDocument.numPiece,secondModal)" ><i class="fa fa-backward fa-lg"></i> Précédant</a>
          </div>
          <div class="form-group col-xs-4 col-md-2">
            <label style="padding: 3px;"><span style="color: #3875d7">{{index+1}}</span> /<span style="color: red">{{this.filtredData.length}}</span> </label>
          </div>
          <div class="form-group col-xs-4 col-md-2">
            <a  style="cursor: pointer;font-size: 13px;" [ngStyle]="{'color' : index+2<=this.filtredData.length ? '#337ab7' : 'black'}"  (click)="goToSuivant(currentDocument.numPiece,secondModal)" > Suivant  <i class="fa fa-forward fa-lg"></i>  </a>
          </div>
          <div class="form-group col-xs-3 col-md-4">
            <button  type="submit" class="btn btn-sm pull-right btn-primary" style="    margin-right: 10px;
    height: 23px;
    font-size: 10px;
    padding: 1px;
    width: 80px;
}" [disabled]="!this.currentDocument.updated" ><i
              class="fa fa-floppy-o"></i>
              Modifier
            </button>
          </div>
        </div>




      </div>
    </form>

  </div>

  <!--
    <div *ngIf="mode==2">


        <div class="modal-header" [ngStyle]="{'background-color' : currentDocument.suivre == true ? '#fff82f' : 'white'}">
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button>
          <p class="heading"> <i class="fa fa-eye fa-lg"></i> Confirmation de modification :
            <strong style="font-size: 13px;
      color: #337ab7;">{{currentDocument.codeDocument}} / {{currentDocument.Document}}</strong>
          </p>


        </div>


        <div class="modal-body" style="padding: 0px">


          <div class="row" style="padding: 2px">
            <div class="col-xs-12 col-md-6" style="padding-left: 20px;
      padding-right: 0px;
      margin-right: -10px;">
              <div class="panel-group">
                <div class="panel panel-primary">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" href="#collapse0"><i class="fa fa-list-alt fa-lg"></i> Détail du Document</a>
                    </h4>
                  </div>
                  <div id="collapse00" class="panel-collapse collapse in">
                    <div class="panel panel-info">

                      <div class="panel-body" >

                        <div class="row">
                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa-building fa-lg"></i>  Client :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">{{currentDocument.client}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa fa-money fa-lg"></i> Mnt CMD :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.montantCmd | currency:'DH':'symbol':undefined:'fr'}}</span>
                          </div>



                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa-handshake-o fa-lg"></i> Comercial :</label>
                            <span style="max-width: 118px;"
                                  class="labelModal"> {{currentDocument.commercial}}</span>
                          </div>


                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">
                            <label><i class="fa fa-users fa-lg"></i> BU :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">  {{currentDocument.bu}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label style="width: 65px"> <i class="fa fa fa-money fa-lg"></i> LIV :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">{{currentDocument.livrer | currency:'DH':'symbol':undefined:'fr'}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa-user-circle fa-lg"></i>  Chef Document :</label>
                            <span style="max-width: 118px;"
                                  class="labelModal">{{currentDocument.chefDocument}}</span>
                          </div>


                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">
                            <label><i class="fa fa-user fa-lg"></i> Réf.CMD :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.refCom}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label style="width: 65px"> <i class="fa fa-money fa-lg"></i> RAL :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.restAlivrer | currency:'DH':'symbol':undefined:'fr' }}</span>

                          </div>

                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa-file-text-o fa-lg"></i> Facturation :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">{{currentDocument.facturation}} %</span>
                          </div>

                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa-calendar-times-o fa-lg"></i> Date CMD :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">{{currentDocument.dateCmd | date:'dd/MM/yyyy'}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label style="width: 65px"> <i class="fa fa-money fa-lg"></i> LNF :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">{{currentDocument.livrerNonFacture | currency:'DH':'symbol':undefined:'fr'}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label><i class="fa fa-calendar fa-lg"></i>  RAL Prest (JRS) :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.ralJrsPrestCalc}} </span>
                          </div>
                        </div>

                        <div class="row">
                          <div class="form-group col-sm-4">
                            <label><i class="fa fa-flag fa-lg"></i> Statut :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.statut}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label style="width: 65px"> <i class="fa fa fa-money fa-lg"></i> LFP :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">  {{currentDocument.livreFacturePayer | currency:'DH':'symbol':undefined:'fr'}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label style="width: 65px"><i class="fa fa-money fa-lg"></i>  RAL Prest (MNT) :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal">{{currentDocument.ralJrsPresMunisys | currency:'DH':'symbol':undefined:'fr'}}</span>
                          </div>
                        </div>


                        <div class="row">

                          <div class="form-group col-sm-4">
                            <label><i class="fa fa-calendar fa-lg"></i> Age :</label>

                            <span class="filled-circle2" style="margin-left: 2px" *ngIf="currentDocument.age < 6">{{currentDocument.age}}</span>

                            <span  *ngIf="currentDocument.age > 6" style="margin-left: 2px" class="filled-circle">{{currentDocument.age}}</span>

                          </div>

                          <div class="form-group col-sm-4">
                            <label> <i class="fa fa fa-money fa-lg"></i> Mnt payé :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.montantPayer | currency:'DH':'symbol':undefined:'fr'}}</span>
                          </div>

                          <div class="form-group col-sm-4">
                            <label><i class="fa fa-bookmark fa-lg"></i> Fac. En cours :</label>
                            <span style="max-width: 130px;"
                                  class="labelModal"> {{currentDocument.factEncours}}</span>
                          </div>



                        </div>



                        <div class="row" *ngIf="currentDocument.details!= null && currentDocument.details.length >0">
                          <div class="panel-group">
                            <div class="panel panel-info">
                              <div class="panel-heading">
                                <h4 class="panel-title">
                                  <a data-toggle="collapse" href="#collapse1"> <i class="fa fa-camera-retro fa-lg"></i> Plus de details</a>
                                </h4>
                              </div>
                              <div id="collapse1" class="panel-collapse collapse">
                                <div class="panel-body"><div *ngFor="let detail of currentDocument.details; let i = index">

                                  <div class="form-group col-sm-3">
                                    {{detail.key}} :
                                    <label >{{detail.value}}</label>
                                  </div>

                                </div></div>

                              </div>
                            </div>
                          </div>
                        </div>




                        <div style="background-color: #337ab7;
      color: white;
      margin-top: -1px;
      margin-bottom: 10px;
      padding-left: 10px;
      height: 15px;
      font-size: 10px;"> <a style="color: white;  font-size: 9px;"> <i class="fa fa-info fa-lg"></i> Information du Document</a></div>

                        <div class="row">




                          <div class="form-group col-sm-4">

                            <label for="maintenance" class="control-label  "><i class="fa fa-life-ring fa-lg"></i> Maintenance :</label>

                            <input id="maintenance" class="form-control input-sm"

                                   [(ngModel)]="currentDocument.maintenance" name="maintenance"  (change)="updated($event)" disabled>

                          </div>

                          <div class="form-group col-sm-4">

                            <label for="dateFinDocument"><i class="fa fa-calendar-times-o fa-lg"></i> Date Fin du Document :</label>

                            <input id="dateFinDocument" name="dateFinDocument"  type="date" class="form-control input-sm" [ngModel]="currentDocument.dateFinDocument | date:'yyyy-MM-dd'" (ngModelChange)="currentDocument.dateFinDocument = $event"
                                   [value]="currentDocument.dateFinDocument | date:'yyyy-MM-dd'" #BirthDate="ngModel" (change)="updated($event)" disabled>

                          </div>

                          <div class="form-group col-sm-4">

                            <label for="preRequis"><i class="fa fa-tasks fa-lg"></i> Prérequis :</label>

                            <input id="preRequis" class="form-control input-sm"

                                   [(ngModel)]="currentDocument.preRequis" name="preRequis"  (change)="updated($event)" disabled>

                          </div>




                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">

                            <label for="garantie"><i class="fa fa-bullseye fa-lg"></i> Garantie :</label>

                            <input id="garantie" class="form-control input-sm"

                                   [(ngModel)]="currentDocument.garantie" name="garantie"  (change)="updated($event)" disabled>

                          </div>

                          <div class="form-group col-sm-4">

                            <label for="condPaiement"><i class="fa fa-file-text-o fa-lg"></i> Conditon Paiement :</label>

                            <input id="condPaiement" class="form-control input-sm"

                                   [(ngModel)]="currentDocument.condPaiement" name="condPaiement"  (change)="updated($event)" disabled>

                          </div>

                          <div class="form-group col-sm-4">

                            <label for="livraison"><i class="fa fa-truck fa-lg"></i> Livraison :</label>

                            <input id="livraison" class="form-control input-sm"

                                   [(ngModel)]="currentDocument.livraison" name="livraison" (change)="updated($event)" disabled>

                          </div>





                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">

                            <label for="action"><i class="fa fa-tasks fa-lg"></i> Action :</label>

                            <input id="action" class="form-control input-sm"

                                   [(ngModel)]="currentDocument.action" name="action" (change)="updated($event)" disabled>

                          </div>

                          <div class="form-group col-sm-8">

                            <label for="risque"><i class="fa fa-exclamation-triangle  fa-lg"></i> Risque :</label>

                            <textarea id="risque" name ="risque" class="form-control input-sm" [(ngModel)]="currentDocument.risque" rows="1" (change)="updated($event)" disabled></textarea>

                          </div>

                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">
                            <label for="avantVente"><i class="fa fa-user fa-lg"></i> Avant vente :</label>
                            <select style="margin-left: 5px;width: 175px;" id="avantVente" class="browser-default custom-select" name="avantVente2" [(ngModel)]="currentDocument.avantVente" (change)="updated($event)" disabled>
                              <option selected>Sélectionner l'avant vente </option>
                              <option *ngFor="let employe of employeesAvantVente"
                                      [ngValue]="employe">{{employe.name}}</option>
                            </select>
                          </div>


                          <div class="form-group col-sm-8">
                            <label for="perimetreDocument"><i class="fa fa-arrows  fa-lg"></i> Périmetre Document :</label>

                            <textarea id="perimetreDocument" name ="perimetreDocument" class="form-control input-sm" [(ngModel)]="currentDocument.perimetreDocument"   rows="1" (change)="updated($event)" disabled></textarea>
                          </div>


                        </div>




                        <div class="row">
                          <div class="form-group col-sm-4">
                            <label for="intervenantPrincipal"><i class="fa fa-user fa-lg"></i> Intervenant Principal :</label>
                            <select style="margin-left: 5px" id="intervenantPrincipal" class="browser-default custom-select" name="intervenantPrincipal" [(ngModel)]="currentDocument.intervenantPrincipal" (change)="updated($event)" disabled >
                              <option selected>Sélectionner l'intervenant principal </option>
                              <option *ngFor="let employe of employees"
                                      [ngValue]="employe">{{employe.name}}</option>
                            </select>
                          </div>
                          <div class="form-group col-sm-8">

                            <label for="commentaireDirection"><i class="fa fa-gavel fa-lg"></i> Synthèse Document :</label>

                            <textarea id="commentaireDirection" name ="commentaireDirection" class="form-control input-sm" [(ngModel)]="currentDocument.syntheseDocument"  rows="1" (change)="updated($event)" disabled></textarea>



                          </div>
                        </div>

                        <div class="row">

                          <div class="form-group col-sm-4">
                            <label for="suivre"><i class="fa fa-eye-slash fa-lg"></i> Ne plus suivre </label>
                            <input style="margin-left: 5px" type="checkbox" name="suivre" id="suivre" [(ngModel)]="currentDocument.suivre"  disabled>
                          </div>
                          <div class="form-group col-sm-4"></div>
                          <div class="form-group col-sm-4"></div>

                        </div>



                      </div>
                    </div>
                  </div>
                </div>
              </div>








            </div>

            <div class="col-xs-12 col-md-6">
              <div class="panel-group" >
                <div class="panel panel-primary">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" href="#collapse14"><i class="fa fa-commenting-o fa-lg"></i> Commentaires </a>
                    </h4>
                  </div>

                  <div class="panel-group">
                    <div class="panel panel-default">
                      <div class="panel-body" style="min-height: 604px;">



                        <div class="clearfix"></div>
                        <hr>
                        <ul class="media-list">

                          <li class="media" *ngFor="let commentaire of pagedItems">
                            <a href="#" class="pull-left">

                              <span class="badge badge-success">KC :</span>

                            </a>
                            <div class="media-body">
                                  <span class="text-muted pull-right">
                                      <small class="text-muted">{{commentaire.date | date:'dd/MM/yyyy HH:mm'}} </small>
                                      <a style="cursor: pointer" (click)="deleteCommentaire(commentaire)"><i class="fa fa-times fa-lg"></i> </a>
                                  </span>

                              <span class="badge badge-info" *ngIf="commentaire.employer">avec {{commentaire.employer.name}}</span>
                              <p style="font-size: 11px;max-width: 500px;">
                                {{commentaire.content}}
                              </p>
                            </div>
                          </li>


                        </ul>

                        <div class="row"  *ngIf="pager">
                          <div class="form-group col-sm-3">
                          </div>
                          <div class="form-group col-sm-6">

                            <ul *ngIf="pager.pages && pager.pages.length" class="pagination">

                              <li [ngClass]="{disabled:pager.currentPage === 1}">
                                <a style="font-size: 11px;" (click)="setPage(pager.currentPage - 1)" >Précedant</a>
                              </li>
                              <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                                <a style="font-size: 11px;"  (click)="setPage(page)">{{page}}</a>
                              </li>
                              <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                <a style="font-size: 11px;" (click)="setPage(pager.currentPage + 1)"  >Suivant</a>
                              </li>

                            </ul>
                          </div>
                          <div class="form-group col-sm-3">
                          </div>

                        </div>






                      </div>
                    </div>

                  </div>

                </div>
              </div>
            </div>

          </div>







        </div>




        <div class="modal-footer" style="padding: 0px">

          <div class="row">

            <div class="form-group col-xs-2 col-md-2">
              <p></p>
            </div>
            <div class="form-group col-xs-3 col-md-3">
              <a  style="cursor: pointer;font-size: 13px;" [ngStyle]="{'color' : index-1>=0 ? '#337ab7' : 'black'}" (click)="goToPrecedent(currentDocument.codeDocument,secondModal)" ><i class="fa fa-backward fa-lg"></i> Précedant</a>
            </div>
            <div class="form-group col-xs-4 col-md-4">
              <a  style="cursor: pointer;font-size: 13px;" [ngStyle]="{'color' : index+1<=this.filtredData.length ? '#337ab7' : 'black'}"  (click)="goToSuivant(currentDocument.codeDocument,secondModal)">Suivant  <i class="fa fa-forward fa-lg"></i>  </a>
            </div>
            <div class="form-group col-xs-3 col-md-3">

            </div>
          </div>




        </div>



    </div>
  -->

</ng-template>


<!--plain HTML code for first Modal-->

<ng-template #secondModal>
  <div class="modal-header">
    <button type="button" class="close pull-right" aria-label="Close" (click)="annulation()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body rejection-body">
    <div class="body-title-container">
      <h5 class="title-with-border d-inline" style="color: red">Voulez vous ignorer les modification sur ce Document ?</h5>
    </div>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success btn-sm" (click)="annulation()">Annuler</button>
    <button type="button" class="btn btn-danger btn-sm" (click)="annulationModificationDocument(currentDocument.numPiece,secondModal)">Ignorer</button>

  </div>
</ng-template>


<ng-template #thirdModal>
  <div class="modal-header">
    <button type="button" class="close pull-right" aria-label="Close" (click)="annulation2()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body rejection-body">
    <div class="body-title-container">
      <h5 class="title-with-border d-inline" style="color: red">Voulez vous ignorer les modification sur ce Document ?</h5>
    </div>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success btn-sm" (click)="annulation2()">Annuler</button>
    <button type="button" class="btn btn-danger btn-sm" (click)="ignore2()">Ignorer</button>

  </div>






</ng-template>

<script>
    $(".modal-dialog").css("width", "90%");

</script>



